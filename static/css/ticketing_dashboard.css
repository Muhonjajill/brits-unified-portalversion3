/* RESET */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

a { text-decoration: none; }
ul, ol { list-style-type: none; }

/* COLOR VARIABLES */
:root {
  --primary-color: #2a3d66;  
  --secondary-color: #6a11cb;  
  --accent-color: #4fa3f7;  
  --background-color: #f8f9fa;  
  --text-color: #333333;  
  --gray-light: #e9ecef;  
  --shadow: rgba(0,0,0,0.1); 
  --border-radius: 12px;  
  --transition: 0.3s ease; 

  --card-background: #ffffff;
  --card-text: var(--text-color);
  --header-color: var(--primary-color);
  --kpi-card-bg: var(--primary-color); 
  --kpi-card-text: #fff; 
  --button-background: #ff4d4d; 
  --button-text: #fff; 
}

/* DARK MODE */
body.dark-mode {
  --background-color: #1a1a2e; 
  --text-color: #e0e0e0; 
  --card-background: #2c2c4d;
  --card-text: #e0e0e0;
  --header-color: #4fa3f7; 
  --gray-light: #3a3a5a; 
  --shadow: rgba(0,0,0,0.4); 
  --kpi-card-bg: #4a4a75; 
  --button-background: #6a11cb; 
}

/* LAYOUT */
body {
  font-family: 'Roboto', sans-serif;
  background: var(--background-color);
  color: var(--text-color);
  transition: background var(--transition), color var(--transition);
  background-image: radial-gradient(circle at top left, rgba(0,0,0,0.02) 1px, transparent 1px),
                    radial-gradient(circle at bottom right, rgba(0,0,0,0.02) 1px, transparent 1px);
  background-size: 20px 20px;
  background-position: 0 0, 10px 10px;
}

.dashboard-wrapper {
  max-width: 1600px;
  margin: auto;
  padding: 1rem;
  margin-top: calc(60px + 1rem);
}

/* HEADER */
.dashboard-header {
  text-align: center;
  margin-bottom: 2rem;
}

.dashboard-header h1 {
  font-size: 2.5rem;
  font-weight: 700;
  color: var(--header-color);
}

.dashboard-header i { color: var(--accent-color); }

/* KPI SECTION */
.kpi-section {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  margin-bottom: 2rem;
}

.kpi-card {
  flex: 1 1 calc(25% - 1rem);
  min-width: 220px;
  background: linear-gradient(135deg, var(--kpi-card-bg), color-mix(in srgb, var(--kpi-card-bg) 80%, black));
  color: var(--kpi-card-text);
  border-radius: var(--border-radius);
  display: flex;
  align-items: center;
  padding: 1.2rem;
  box-shadow: 0 6px 18px var(--shadow);
  transition: all var(--transition);
}

.kpi-card .icon { margin-right: 1rem; font-size: 1.8rem; }
.kpi-card .details h3 { font-size: 1rem; font-weight: 600; text-transform: uppercase; }
.kpi-card .details p { font-size: 1.6rem; font-weight: 700; }

.kpi-card:hover {
  transform: translateY(-6px) scale(1.02);
  box-shadow: 0 16px 48px rgba(0,0,0,0.25);
  border: 1px solid var(--accent-color);
}

/* GRADIENT THEMES */
.gradient-1 { background: linear-gradient(135deg, #4fa3f7, #2a3d66); }
.gradient-2 { background: linear-gradient(135deg, #2a3d66, #6a11cb); }
.gradient-3 { background: linear-gradient(135deg, #6a11cb, #4fa3f7); }
.gradient-4 { background: linear-gradient(135deg, #2a3d66, #f7971e); }

.chart-card {
  background: var(--card-background);
  color: var(--card-text);
  border-radius: var(--border-radius);
  padding: 1.2rem;
  box-shadow: 0 6px 18px var(--shadow);
  transition: all var(--transition);
  flex: 1 1 320px;
}

.chart-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 12px 36px rgba(0,0,0,0.2);
  border: 1px solid var(--accent-color);
}

.chart-card.full-width { grid-column: 1 / -1; }

.chart-card.hidden {
  display: none;
}

/*.charts-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
  gap: 1.5rem;
}*/
/* CARD HEADER */
.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.card-header h2 {
  font-size: 1.2rem;
  font-weight: 600;
  color: var(--header-color);
}

.menu-btn { cursor: pointer; font-size: 1.1rem; color: var(--text-color); }
.menu-btn:hover { color: var(--accent-color); transform: scale(1.1); }

/* CHART CANVAS */
canvas { width: 100% !important; height: auto !important; max-height: 350px; }
canvas.tall-chart { max-height: 400px; }
.chart-card.full-width canvas { margin-top: 1rem; width: 110% !important;}

/* KPI CARDS FIX */
.kpi-card, .kpi-card * { text-decoration: none !important; }

/* CHARTS ROW */
.hidden {
  visibility: hidden; 
}

.charts-row {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  margin-bottom: 1.5rem;
}

.charts-row > div {
  flex: 1 1 300px;
  background: var(--card-background);
  color: var(--card-text);
  border-radius: var(--border-radius);
  padding: 1rem;
  box-shadow: 0 6px 18px var(--shadow);
  transition: all var(--transition);
}

.charts-row > div:hover {
  transform: translateY(-5px);
  box-shadow: 0 12px 36px rgba(0,0,0,0.2);
  border: 1px solid var(--accent-color);
}

.charts-row h3 { font-size: 1rem; margin-bottom: 1rem; color: var(--header-color); }
.charts-row canvas { width: 100% !important; max-height: 320px; }

/* =========================================================
   CHARTS GRID (Monthly / Time / Region)
========================================================= */
.charts-grid {
  display: grid;
  gap: 1.5rem;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* mobile-first */
}

/* Desktop ≥1024px: lock to 3 columns */
@media (min-width: 1024px) {
  .charts-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

/* Tablets ≤1024px: 2 columns if space allows */
@media (max-width: 1024px) {
  .charts-grid {
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  }
}

/* Phones ≤576px: stack vertically */
@media (max-width: 576px) {
  .charts-grid { grid-template-columns: 1fr; }
}

/* RESPONSIVE BREAKPOINTS */
@media (max-width: 1024px) {
  .dashboard-header h1 { font-size: 2rem; }
  .kpi-card { flex: 1 1 calc(33.33% - 1rem); }
  .charts-grid {
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  }

  .chart-card { 
    flex: 1 1 calc(50% - 1rem); 
  }
}

@media (max-width: 768px) {
  .dashboard-header h1 { font-size: 1.8rem; }
  .kpi-card { flex: 1 1 calc(50% - 1rem); }
  .card-header h2 { font-size: 1rem; }
  .charts-grid {
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
  }

  .chart-card {
    flex: 1 1 calc(50% - 1rem); 
  }.charts-grid {
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
  }

  .chart-card {
    flex: 1 1 calc(50% - 1rem);
  }
}

@media (max-width: 576px) {
  .dashboard-wrapper { padding: 0.8rem; }
  .dashboard-header h1 { font-size: 1.5rem; }
  .kpi-card { flex: 1 1 100%; min-width: auto; }
  .charts-grid { grid-template-columns: 1fr; }
  .chart-card {
    flex: 1 1 100%;
  }
  .charts-row { flex-direction: column; }
}

@media (max-width: 375px) {
  .dashboard-header h1 { font-size: 1.3rem; }
  .kpi-card .icon { font-size: 1.5rem; }
  .kpi-card .details p { font-size: 1.3rem; }
}
